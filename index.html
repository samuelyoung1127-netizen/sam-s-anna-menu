<!DOCTYPE html> <html lang="id"> <head> <meta charset="UTF-8"> <title>Menu Sam's Anna Seafood</title> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="stylesheet" href="styles.css"> </head> <body> <header class="site-header"> <img id="logo" src="logo.png" alt="Logo" onerror="this.style.display='none'"> <h1 id="resto-name">Memuat...</h1> <p id="last-updated"></p> </header> <div class="search-box"> <input id="search" type="text" placeholder="Cari menu..."> </div> <main id="menu"></main> <footer class="footer"> <small>Â© <span id="year"></span> Sam's Anna Seafood. Dibuat sederhana via GitHub Pages.</small> </footer> <script> async function loadMenu(){ try { const res = await fetch('menu.json?cache=' + Date.now()) if(!res.ok) throw new Error('Gagal ambil data') const data = await res.json() document.getElementById('resto-name').textContent = data.restaurant?.name || 'Menu' document.getElementById('last-updated').textContent = 'Terakhir diperbarui: ' + (data.restaurant?.last_updated || '-') document.getElementById('year').textContent = new Date().getFullYear() const menuEl = document.getElementById('menu') menuEl.innerHTML = '' const catMap = {} data.categories.forEach(c => { catMap[c.id] = c }) // Susun kategori dengan urutan muncul di file data.categories.forEach(cat => { const section = document.createElement('section') section.className = 'category' const h2 = document.createElement('h2') h2.textContent = cat.name section.appendChild(h2) const list = document.createElement('div') list.className = 'items' data.items .filter(i => i.category_id === cat.id) .forEach(item => { const div = document.createElement('div') div.className = 'item ' + (item.available ? '' : 'soldout') div.innerHTML = ` <div class="item-row"> <div class="item-name">${item.name}</div> <div class="item-price">Rp ${Number(item.price).toLocaleString('id-ID')}</div> </div> ${item.description ? `<div class="item-desc">${item.description}</div>` : ''} ${item.available ? '' : '<div class="tag">Habis</div>'} ` list.appendChild(div) }) if(!list.children.length){ const empty = document.createElement('p') empty.textContent = 'Belum ada item.' list.appendChild(empty) } section.appendChild(list) menuEl.appendChild(section) }) // Fungsi pencarian const input = document.getElementById('search') input.addEventListener('input', () => { const q = input.value.toLowerCase() const allItems = document.querySelectorAll('.item') allItems.forEach(it => { const name = it.querySelector('.item-name').textContent.toLowerCase() const desc = (it.querySelector('.item-desc')?.textContent || '').toLowerCase() it.style.display = (name.includes(q) || desc.includes(q)) ? '' : 'none' }) }) } catch(e){ document.getElementById('menu').innerHTML = '<p style="color:red">Gagal memuat menu. Periksa file menu.json</p>' console.error(e) } } loadMenu() </script> </body> </html>
